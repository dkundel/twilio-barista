{"version":3,"sources":["webpack:///route-home.chunk.b08f3.js","webpack:///./routes/home/index.js","webpack:///./routes/home/style.less?133f"],"names":["webpackJsonp","iOg+","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","d","Home","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1_preact_router__","n","__WEBPACK_IMPORTED_MODULE_2_material_design_lite_material__","__WEBPACK_IMPORTED_MODULE_3_preact_mdl__","__WEBPACK_IMPORTED_MODULE_4__style__","__WEBPACK_IMPORTED_MODULE_4__style___default","_ref2","indeterminate","_ref3","_ref5","_ref6","_Component","_len","arguments","length","args","Array","_key","_this","this","apply","concat","state","events","undefined","componentWillMount","Promise","$return","$error","_ref","resolve","fetch","then","$await_1","json","$await_2","setState","$boundEx","bind","renderEvents","isArray","map","_ref4","eventId","eventName","EventEntry","name","render","class","a","home","container","_ref7","shadow","eventEntry","Title","TitleText","Text","Actions","href","primary","actionButton","vO8M","exports"],"mappings":"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","file":"route-home.chunk.b08f3.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ \"iOg+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Home; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_router__ = __webpack_require__(\"/QC5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_design_lite_material__ = __webpack_require__(\"QJSD\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_design_lite_material___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_design_lite_material__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_preact_mdl__ = __webpack_require__(\"3PZ7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_preact_mdl___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_preact_mdl__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__style__ = __webpack_require__(\"vO8M\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__style__);\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar _ref2 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_3_preact_mdl__[\"Progress\"], { indeterminate: true });\n\nvar _ref3 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  'div',\n  null,\n  Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'h5',\n    null,\n    'No events found.'\n  ),\n  Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'p',\n    null,\n    'Please create an event in the admin section'\n  )\n);\n\nvar _ref5 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  'h2',\n  null,\n  'Twilio Barista'\n);\n\nvar _ref6 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  'p',\n  null,\n  'Welcome to Twilio Barista. Please pick your event:'\n);\n\nvar Home = function (_Component) {\n  _inherits(Home, _Component);\n\n  function Home() {\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args)));\n\n    _this.state = {\n      events: undefined\n    };\n    return _this;\n  }\n\n  Home.prototype.componentWillMount = function componentWillMount() {\n    return new Promise(function ($return, $error) {\n      var _ref, events;\n\n      return Promise.resolve(fetch('/api/admin/events?type=full&visible=true')).then(function ($await_1) {\n        try {\n          return Promise.resolve($await_1.json()).then(function ($await_2) {\n            try {\n              _ref = $await_2, events = _ref.events;\n\n              this.setState({ events: events });\n              return $return();\n            } catch ($boundEx) {\n              return $error($boundEx);\n            }\n          }.bind(this), $error);\n        } catch ($boundEx) {\n          return $error($boundEx);\n        }\n      }.bind(this), $error);\n    }.bind(this));\n  };\n\n  Home.prototype.renderEvents = function renderEvents() {\n    if (!this.state.events || !Array.isArray(this.state.events)) {\n      return _ref2;\n    }\n\n    if (this.state.events.length === 0) {\n      return _ref3;\n    }\n\n    return this.state.events.map(function (_ref4) {\n      var eventId = _ref4.eventId,\n          eventName = _ref4.eventName;\n      return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(EventEntry, { eventId: eventId, name: eventName });\n    });\n  };\n\n  Home.prototype.render = function render() {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'div',\n      { 'class': __WEBPACK_IMPORTED_MODULE_4__style___default.a.home },\n      _ref5,\n      _ref6,\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'div',\n        { 'class': __WEBPACK_IMPORTED_MODULE_4__style___default.a.container },\n        this.renderEvents()\n      )\n    );\n  };\n\n  return Home;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n\n\n\nvar EventEntry = function EventEntry(_ref7) {\n  var eventId = _ref7.eventId,\n      name = _ref7.name;\n\n  return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    __WEBPACK_IMPORTED_MODULE_3_preact_mdl__[\"Card\"],\n    { shadow: 2, 'class': __WEBPACK_IMPORTED_MODULE_4__style___default.a.eventEntry },\n    Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      __WEBPACK_IMPORTED_MODULE_3_preact_mdl__[\"Card\"].Title,\n      null,\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        __WEBPACK_IMPORTED_MODULE_3_preact_mdl__[\"Card\"].TitleText,\n        null,\n        name\n      )\n    ),\n    Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      __WEBPACK_IMPORTED_MODULE_3_preact_mdl__[\"Card\"].Text,\n      null,\n      'Event ID: ',\n      eventId\n    ),\n    Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      __WEBPACK_IMPORTED_MODULE_3_preact_mdl__[\"Card\"].Actions,\n      null,\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        __WEBPACK_IMPORTED_MODULE_1_preact_router__[\"Link\"],\n        { href: '/' + eventId + '/orders' },\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          __WEBPACK_IMPORTED_MODULE_3_preact_mdl__[\"Button\"],\n          { primary: true, 'class': __WEBPACK_IMPORTED_MODULE_4__style___default.a.actionButton },\n          '\\uD83D\\uDCDD Orders'\n        )\n      ),\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        __WEBPACK_IMPORTED_MODULE_1_preact_router__[\"Link\"],\n        { href: '/' + eventId + '/kiosk' },\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          __WEBPACK_IMPORTED_MODULE_3_preact_mdl__[\"Button\"],\n          { primary: true, 'class': __WEBPACK_IMPORTED_MODULE_4__style___default.a.actionButton },\n          '\\uD83D\\uDCF1 Kiosk'\n        )\n      ),\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        __WEBPACK_IMPORTED_MODULE_1_preact_router__[\"Link\"],\n        { href: '/' + eventId + '/dashboard' },\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          __WEBPACK_IMPORTED_MODULE_3_preact_mdl__[\"Button\"],\n          { primary: true, 'class': __WEBPACK_IMPORTED_MODULE_4__style___default.a.actionButton },\n          '\\uD83D\\uDCCA Dashboard'\n        )\n      )\n    )\n  );\n};\n\n/***/ }),\n\n/***/ \"vO8M\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"home\":\"home__MVGbg\",\"container\":\"container__1wrov\",\"eventEntry\":\"eventEntry__13dOh\",\"actionButton\":\"actionButton__Xxb48\"};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-home.chunk.b08f3.js","import { h, Component } from 'preact';\nimport { Link } from 'preact-router';\nimport mdl from 'material-design-lite/material';\nimport { Card, Button, Progress } from 'preact-mdl';\nimport style from './style';\n\nexport default class Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      events: undefined,\n    };\n  }\n\n  async componentWillMount() {\n    const { events } = await (await fetch(\n      '/api/admin/events?type=full&visible=true'\n    )).json();\n    this.setState({ events });\n  }\n\n  renderEvents() {\n    if (!this.state.events || !Array.isArray(this.state.events)) {\n      return <Progress indeterminate />;\n    }\n\n    if (this.state.events.length === 0) {\n      return (\n        <div>\n          <h5>No events found.</h5>\n          <p>Please create an event in the admin section</p>\n        </div>\n      );\n    }\n\n    return this.state.events.map(({ eventId, eventName }) => (\n      <EventEntry eventId={eventId} name={eventName} />\n    ));\n  }\n\n  render() {\n    return (\n      <div class={style.home}>\n        <h2>Twilio Barista</h2>\n        <p>Welcome to Twilio Barista. Please pick your event:</p>\n        <div class={style.container}>{this.renderEvents()}</div>\n      </div>\n    );\n  }\n}\n\nconst EventEntry = ({ eventId, name }) => {\n  return (\n    <Card shadow={2} class={style.eventEntry}>\n      <Card.Title>\n        <Card.TitleText>{name}</Card.TitleText>\n      </Card.Title>\n      <Card.Text>Event ID: {eventId}</Card.Text>\n      <Card.Actions>\n        <Link href={`/${eventId}/orders`}>\n          <Button primary class={style.actionButton}>\n            📝 Orders\n          </Button>\n        </Link>\n        <Link href={`/${eventId}/kiosk`}>\n          <Button primary class={style.actionButton}>\n            📱 Kiosk\n          </Button>\n        </Link>\n        <Link href={`/${eventId}/dashboard`}>\n          <Button primary class={style.actionButton}>\n            📊 Dashboard\n          </Button>\n        </Link>\n      </Card.Actions>\n    </Card>\n  );\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./routes/home/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"home\":\"home__MVGbg\",\"container\":\"container__1wrov\",\"eventEntry\":\"eventEntry__13dOh\",\"actionButton\":\"actionButton__Xxb48\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/home/style.less\n// module id = vO8M\n// module chunks = 4"],"sourceRoot":""}